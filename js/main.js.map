{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/friend.hbs","webpack:///./src/modules/Api.js","webpack:///./src/modules/Loader.js","webpack:///./src/modules/utils/filters.js","webpack:///./src/modules/Model.js","webpack:///./src/modules/View.js","webpack:///./src/modules/Controller.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Handlebars","template","1","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","helperMissing","alias4","escapeExpression","id","hash","unless","favorites","fn","program","inverse","noop","photo_50","first_name","last_name","2","4","6","compiler","main","blockHelperMissing","lambda","useData","Api","VK","init","apiId","Promise","resolve","reject","Auth","login","session","Error","method","params","v","api","error","response","Loader","callAPI","fields","friendsJSON","localStorage","getItem","JSON","parse","friends","setItem","stringify","getIndex","arr","findIndex","friend","filterName","fullName","chunk","toLowerCase","includes","getFilters","toFind","filter","Model","savedFriends","classCallCheck_default","this","friendsAll","friendsFav","filterFriends","index","sort","a","b","_this","some","friendFav","View","element","friendTemplate","innerHTML","Controller","model","filters","textAll","textFav","friendsAllDOM","document","querySelector","friendsFavDOM","renderAll","renderFav","addEventListener","addFriend","removeFriend","addFriendDrag","filterAll","filterFav","saveFriends","filtered","render","evt","target","tagName","closest","dataset","dragover","dragEvt","preventDefault","drop","removeEventListener","trim","setFriends","alert","loadFriends","then","getFriends","items","library","add","faTimes","faSearch","faPlus","faSpinner","dom","watch"],"mappings":"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","file":"js/main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([11,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"  <li\\n    class=\\\"friend\\\"\\n    data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"\\n\"\n    + ((stack1 = helpers.unless.call(alias1,(depth0 != null ? depth0.favorites : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"  >\\n    <div>\\n      <img\\n        src=\\\"\"\n    + alias4(((helper = (helper = helpers.photo_50 || (depth0 != null ? depth0.photo_50 : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"photo_50\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"\\n        height=\\\"45\\\"\\n        width=\\\"45\\\"\\n        draggable=\\\"false\\\"\\n      >\\n      <p>\"\n    + alias4(((helper = (helper = helpers.first_name || (depth0 != null ? depth0.first_name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"first_name\",\"hash\":{},\"data\":data}) : helper)))\n    + \" \"\n    + alias4(((helper = (helper = helpers.last_name || (depth0 != null ? depth0.last_name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"last_name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n    </div>\\n    <button class=\\\"friend__button\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.favorites : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"    </button>\\n  </li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"    draggable=\\\"true\\\"\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"        <i\\n          class=\\\"fas fa-times\\\"\\n          style=\\\"color: #c4c4c4; font-size: 2.2rem; pointer-events: none;\\\"\\n        ></i>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"        <i\\n          class=\\\"fa fa-plus\\\"\\n          style=\\\"color: #c4c4c4; font-size: 2.2rem; pointer-events: none;\\\"\\n        ></i>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.blockHelperMissing.call(depth0,container.lambda(depth0, depth0),{\"name\":\"this\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});","import VK from 'vk-openapi';\n\nexport default class Api {\n  static init() {\n    VK.init({\n      apiId: 6766409\n    });\n\n    return new Promise((resolve, reject) => {\n      VK.Auth.login(data => {\n        if (data.session) {\n          resolve();\n        } else {\n          reject(new Error('Не удалось авторизироваться'));\n        }\n      }, 2);\n    });\n  }\n\n  static callAPI(method, params) {\n    params.v = '5.88';\n\n    return new Promise((resolve, reject) => {\n      VK.api(method, params, data => {\n        if (data.error) {\n          reject(data.error);\n        } else {\n          resolve(data.response);\n        }\n      });\n    });\n  }\n}\n","import Api from './Api';\n\nexport default class Loader {\n  static async loadFriends() {\n    await Api.init();\n    return Api.callAPI('friends.get', { fields: 'photo_50' });\n  }\n\n  static getFriends() {\n    const friendsJSON = localStorage.getItem('friends');\n\n    try {\n      return friendsJSON ? JSON.parse(friendsJSON) : [];\n    } catch (error) {\n      return [];\n    }\n  }\n\n  static setFriends(friends) {\n    localStorage.setItem('friends', JSON.stringify(friends));\n  }\n}\n","const getIndex = (arr, id) => arr.findIndex(friend => friend.id === +id);\n\nconst filterName = (fullName, chunk) =>\n  fullName.toLowerCase().includes(chunk.toLowerCase());\n\nconst getFilters = (friends, toFind) =>\n  friends.filter(\n    friend =>\n      filterName(friend.first_name, toFind) ||\n      filterName(friend.last_name, toFind)\n  );\n\nexport { getIndex, getFilters };\n","import { getIndex } from './utils/filters';\n\nexport default class Model {\n  constructor(friends, savedFriends) {\n    this.friendsAll = friends;\n    this.friendsFav = savedFriends;\n\n    this.filterFriends();\n  }\n\n  addFriend(id) {\n    const index = getIndex(this.friendsAll, id);\n    const friend = this.friendsAll[index];\n    friend.favorites = true;\n\n    this.friendsAll.splice(index, 1);\n    this.friendsFav.push(friend);\n  }\n\n  removeFriend(id) {\n    const index = getIndex(this.friendsFav, id);\n    const friend = this.friendsFav[index];\n    delete friend.favorites;\n\n    this.friendsFav.splice(index, 1);\n    this.friendsAll.push(friend);\n    this.friendsAll.sort((a, b) => a.id - b.id);\n  }\n\n  filterFriends() {\n    // removes all non unique friends from array before rendering\n    this.friendsAll = this.friendsAll.filter(\n      friend => !this.friendsFav.some(friendFav => friendFav.id === friend.id)\n    );\n  }\n}\n","import friendTemplate from '../templates/friend.hbs';\n\nexport default class View {\n  static render(element, friends) {\n    const template = friendTemplate(friends);\n    element.innerHTML = template;\n  }\n}\n","import View from './View';\nimport Loader from './Loader';\nimport { getFilters } from './utils/filters';\n\nexport default class Controller {\n  constructor(model) {\n    this.model = model;\n\n    // stores inputs value\n    this.filters = {\n      textAll: '',\n      textFav: ''\n    };\n\n    this.friendsAllDOM = document.querySelector('#all');\n    this.friendsFavDOM = document.querySelector('#fav');\n\n    this.renderAll();\n    this.renderFav();\n\n    this.friendsAllDOM.addEventListener('click', this.addFriend.bind(this));\n    this.friendsFavDOM.addEventListener('click', this.removeFriend.bind(this));\n    this.friendsAllDOM.addEventListener(\n      'dragstart',\n      this.addFriendDrag.bind(this)\n    );\n    document\n      .querySelector('#input-all')\n      .addEventListener('input', this.filterAll.bind(this));\n    document\n      .querySelector('#input-fav')\n      .addEventListener('input', this.filterFav.bind(this));\n    document\n      .querySelector('#save-button')\n      .addEventListener('click', this.saveFriends.bind(this));\n  }\n\n  renderAll() {\n    // render based on current filter value\n    const filtered = getFilters(this.model.friendsAll, this.filters.textAll);\n    View.render(this.friendsAllDOM, filtered);\n  }\n\n  renderFav() {\n    const filtered = getFilters(this.model.friendsFav, this.filters.textFav);\n    View.render(this.friendsFavDOM, filtered);\n  }\n\n  addFriend(evt) {\n    if (evt.target.tagName === 'BUTTON') {\n      // get vk id of clicked element\n      const id = evt.target.closest('li').dataset.id;\n      this.model.addFriend(id);\n      this.renderAll();\n      this.renderFav();\n    }\n  }\n\n  addFriendDrag(evt) {\n    const id = evt.target.closest('li').dataset.id;\n\n    const dragover = dragEvt => {\n      dragEvt.preventDefault();\n    };\n\n    const drop = () => {\n      this.model.addFriend(id);\n      this.renderAll();\n      this.renderFav();\n\n      // removes listeners on drop\n      this.friendsFavDOM.removeEventListener('dragover', dragover);\n      this.friendsFavDOM.removeEventListener('drop', drop);\n    };\n\n    // adds listeners on drag start\n    this.friendsFavDOM.addEventListener('dragover', dragover);\n    this.friendsFavDOM.addEventListener('drop', drop);\n  }\n\n  removeFriend(evt) {\n    if (evt.target.tagName === 'BUTTON') {\n      const id = evt.target.closest('li').dataset.id;\n      this.model.removeFriend(id);\n      this.renderAll();\n      this.renderFav();\n    }\n  }\n\n  filterAll(evt) {\n    // set filter to current input value\n    this.filters.textAll = evt.target.value.trim();\n    this.renderAll();\n  }\n\n  filterFav(evt) {\n    this.filters.textFav = evt.target.value.trim();\n    this.renderFav();\n  }\n\n  saveFriends() {\n    // save to local storage\n    Loader.setFriends(this.model.friendsFav);\n    alert('Сохранено');\n  }\n}\n","import './styles/main.scss';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faTimes,\n  faSearch,\n  faPlus,\n  faSpinner\n} from '@fortawesome/free-solid-svg-icons';\nimport Loader from './modules/Loader';\nimport Model from './modules/Model';\nimport Controller from './modules/Controller';\n\nLoader.loadFriends().then(friends => {\n  const savedFriends = Loader.getFriends();\n  const model = new Model(friends.items, savedFriends);\n  new Controller(model);\n});\n\nlibrary.add(faTimes, faSearch, faPlus, faSpinner);\ndom.watch();\n"],"sourceRoot":""}